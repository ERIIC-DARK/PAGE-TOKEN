import base64
exec(base64.b64decode(b'aW1wb3J0IG9zCmltcG9ydCByZXF1ZXN0cwpmcm9tIGNvbG9yYW1hIGltcG9ydCBGb3JlLCBpbml0CmZyb20gZGF0ZXRpbWUgaW1wb3J0IGRhdGV0aW1lLCB0aW1lZGVsdGEKaW1wb3J0IHRpbWUKCiMgSW5pdGlhbGl6ZSBjb2xvcmFtYSBmb3IgY29sb3JlZCB0ZXh0IG91dHB1dAppbml0KGF1dG9yZXNldD1UcnVlKQoKIyBMb2dvIGZ1bmN0aW9uIHRvIGRpc3BsYXkgYXQgdGhlIGJlZ2lubmluZwpkZWYgc2hvd19sb2dvKCk6CiAgICBvcy5zeXN0ZW0oJ2NsZWFyJykgICMgQ2xlYXIgdGhlIHRlcm1pbmFsIHNjcmVlbiBiZWZvcmUgc2hvd2luZyB0aGUgbG9nbwogICAgbG9nbyA9ICIiIgpfX19fX19fX19fX19fX19fX19fX18uX19fLl9fX19fX19fX19fXyAgClxfICAgX19fX18vXF9fX19fXyAgIFwgICB8ICAgXF8gICBfX18gXCAKIHwgICAgX18pXyAgfCAgICAgICBfLyAgIHwgICAvICAgIFwgIFwvIAogfCAgICAgICAgXCB8ICAgIHwgICBcICAgfCAgIFwgICAgIFxfX19fCi9fX19fX19fICAvIHxfX19ffF8gIC9fX198X19ffFxfX19fX18gIC8KICAgICAgICBcLyAgICAgICAgIFwvICAgICAgICAgICAgICAgIFwvICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIArilZTilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZcK4pWRXDAzM1sxOzMzbVs9XSBPV05FUiAgICAgICAgICAgICAgICAgICA6ICAgIEVSSUlDLUVYRk9SVCAgICAgICAgICAgICAgICAgICDilZEgICAgICAgICAgICAgCuKVkVwwMzNbMTszMm1bPV0g8J2QhvCdkIjwnZCT8J2Qh/CdkJTwnZCBICAgICAgICAgICAgICAgICAgOiAgIEVSSUlDLUVYTyAgICAgICAgICAgICAgICAgICAgICAg4pWRICAgICAgICAgCuKVkVwwMzNbMTszNm1bPV0g8J2QkfCdkJTwnZCL8J2QhPCdkJcgICAgICAgICAgICAgICAgICAgOiBBQ0NFU1MgUEFHRSBUT0tFTiAgICAgICAgICAgICAgICAg4pWRICAgICAgICAgICAgIArilZFcMDMzWzE7MzNtWz1dIPCdkIXwnZCA8J2QgvCdkITwnZCB8J2QjvCdkIogICAgICAgICAgICAgICAgIDog4p2u4p2uICDwk4apxrfMhMSxzL3Escy9ybzgtLHOt8ya8JOGqiAg4p2v4p2vICAgICAgICAgICAgICAgICAg4pWRICAgICAgICAgICAK4pWa4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWdCiAgICAiIiIKICAgIHByaW50KEZvcmUuWUVMTE9XICsgbG9nbykKICAgIHRpbWUuc2xlZXAoMSkgICMgQWRkIGEgc21hbGwgZGVsYXkgdG8gbWFrZSB0aGUgbG9nbyB2aXNpYmxlCgogICAgIyBEaXNwbGF5IHRoZSBtZXNzYWdlIHRoYXQgeW91IHdhbnQgdXNlcnMgdG8gc2VlCiAgICBwcmludChGb3JlLkNZQU4gKyAiXDAzM1sxOzkxbVwwMzNbMTs0MW1cMDMzWzE7MzNtVEVSTVVYIEZSRUUgQ09NTUFORCBXT1JMRCAyMDI0ICBFUklJQyBJTlhJRCBGQiBQQUdFIFRPS0VOIEFDQ0VTU1wwMzNbOzBtXDAzM1sxOzkxbVwwMzNbMTs5Mm1cMDMzWzM4OzU7NDZtIikKICAgIHByaW50KEZvcmUuQ1lBTiArICJbLfCdl6rwnZeY8J2Xn/Cdl5bwnZei8J2XoPCdl5gg8J2Xp/Cdl6Ig8J2XmPCdl6XwnZec8J2XnPCdl5YgIPCdl6fwnZei8J2XovCdl58g8J2XlPCdl5jwnZemIPCdl57wnZel8J2XoiDwnZej8J2XlPCdl5rwnZeYIPCdl5zwnZeXIPCdl57wnZecIPCdl6fwnZei8J2XnvCdl5jwnZehIPCdl5TwnZeh8J2XlyDwnZea8J2XpfCdl6LwnZeo8J2XoyDwnZee8J2XnCDwnZeo8J2XnPCdl5ctXSIpCgojIEZ1bmN0aW9uIHRvIGZldGNoIGFuZCBsaXN0IG9ubHkgYWN0aXZlIE1lc3NlbmdlciBHcm91cHMgZm9yIGEgZ2l2ZW4gRmFjZWJvb2sgQWNjZXNzIFRva2VuCmRlZiBnZXRfYWN0aXZlX21lc3Nlbmdlcl9ncm91cHMoYWNjZXNzX3Rva2VuKToKICAgIHVybCA9IGYnaHR0cHM6Ly9ncmFwaC5mYWNlYm9vay5jb20vdjE3LjAvbWUvY29udmVyc2F0aW9ucz9maWVsZHM9bmFtZSx1cGRhdGVkX3RpbWUmYWNjZXNzX3Rva2VuPXthY2Nlc3NfdG9rZW59JyAgIyBGZXRjaCBuYW1lIGFuZCB1cGRhdGVkX3RpbWUKICAgIHJlc3BvbnNlID0gcmVxdWVzdHMuZ2V0KHVybCkKCiAgICBpZiByZXNwb25zZS5zdGF0dXNfY29kZSA9PSAyMDA6CiAgICAgICAgZGF0YSA9IHJlc3BvbnNlLmpzb24oKQogICAgICAgIGlmICdkYXRhJyBpbiBkYXRhOgogICAgICAgICAgICBwcmludChGb3JlLkdSRUVOICsgIlxuTGlzdCBvZiBBY3RpdmUgTWVzc2VuZ2VyIEdyb3VwczoiKQogICAgICAgICAgICBub3cgPSBkYXRldGltZS51dGNub3coKQogICAgICAgICAgICBhY3RpdmVfZm91bmQgPSBGYWxzZQoKICAgICAgICAgICAgZm9yIGNvbnZlcnNhdGlvbiBpbiBkYXRhWydkYXRhJ106CiAgICAgICAgICAgICAgICBjb252ZXJzYXRpb25faWQgPSBjb252ZXJzYXRpb25bJ2lkJ10KICAgICAgICAgICAgICAgIGNvbnZlcnNhdGlvbl9uYW1lID0gY29udmVyc2F0aW9uLmdldCgnbmFtZScsIE5vbmUpCiAgICAgICAgICAgICAgICB1cGRhdGVkX3RpbWUgPSBjb252ZXJzYXRpb24uZ2V0KCd1cGRhdGVkX3RpbWUnLCBOb25lKQoKICAgICAgICAgICAgICAgIGlmIHVwZGF0ZWRfdGltZToKICAgICAgICAgICAgICAgICAgICAjIENvbnZlcnQgdXBkYXRlZF90aW1lIHRvIGEgZGF0ZXRpbWUgb2JqZWN0CiAgICAgICAgICAgICAgICAgICAgbGFzdF91cGRhdGVkID0gZGF0ZXRpbWUuc3RycHRpbWUodXBkYXRlZF90aW1lLCAnJVktJW0tJWRUJUg6JU06JVMleicpLnJlcGxhY2UodHppbmZvPU5vbmUpCgogICAgICAgICAgICAgICAgICAgICMgQ2hlY2sgaWYgdGhlIGdyb3VwIHdhcyB1cGRhdGVkIGluIHRoZSBsYXN0IDMwIGRheXMKICAgICAgICAgICAgICAgICAgICBpZiBub3cgLSBsYXN0X3VwZGF0ZWQgPD0gdGltZWRlbHRhKGRheXM9MzApOgogICAgICAgICAgICAgICAgICAgICAgICBhY3RpdmVfZm91bmQgPSBUcnVlCiAgICAgICAgICAgICAgICAgICAgICAgIGlmIGNvbnZlcnNhdGlvbl9uYW1lOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJpbnQoRm9yZS5HUkVFTiArIGYiXDAzM1sxOzkxbVwwMzNbMTs0MW1cMDMzWzE7MzNtIEdST1VQIE5BTUVcMDMzWzswbVwwMzNbMTs5MW1cMDMzWzE7OTJtXDAzM1szODs1OzQ2bSA9PT4+IHtjb252ZXJzYXRpb25fbmFtZX0gfCBHcm91cCBVSUQ6IHtjb252ZXJzYXRpb25faWR9IikKICAgICAgICAgICAgICAgICAgICAgICAgZWxzZToKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByaW50KEZvcmUuWUVMTE9XICsgZiJcMDMzWzE7OTFtXDAzM1sxOzQxbVwwMzNbMTszM21HUk9VUCBLMSBVSURcMDMzWzswbVwwMzNbMTs5MW1cMDMzWzE7OTJtXDAzM1szODs1OzQ2bSA9PT4+e2NvbnZlcnNhdGlvbl9pZH0gfCBHcm91cCBOYW1lOiBObyBOYW1lIEF2YWlsYWJsZSIpCgogICAgICAgICAgICBpZiBub3QgYWN0aXZlX2ZvdW5kOgogICAgICAgICAgICAgICAgcHJpbnQoRm9yZS5ZRUxMT1cgKyAiTm8gYWN0aXZlIE1lc3NlbmdlciBncm91cHMgZm91bmQgaW4gdGhlIGxhc3QgMzAgZGF5cy4iKQogICAgICAgIGVsc2U6CiAgICAgICAgICAgIHByaW50KEZvcmUuWUVMTE9XICsgIk5vIE1lc3NlbmdlciBncm91cHMgZm91bmQgb3IgdW5hYmxlIHRvIGFjY2VzcyBncm91cCBkYXRhLiIpCiAgICBlbHNlOgogICAgICAgIHByaW50KEZvcmUuUkVEICsgZiJFcnJvcjoge3Jlc3BvbnNlLnN0YXR1c19jb2RlfSIpCiAgICAgICAgcHJpbnQocmVzcG9uc2UudGV4dCkKCiMgRnVuY3Rpb24gdG8gZGlzcGxheSB0aGUgdG9rZW4gZGV0YWlscyAodXNlciBpbmZvKQpkZWYgZ2V0X3Rva2VuX2RldGFpbHMoYWNjZXNzX3Rva2VuKToKICAgIHVybCA9IGYnaHR0cHM6Ly9ncmFwaC5mYWNlYm9vay5jb20vbWU/YWNjZXNzX3Rva2VuPXthY2Nlc3NfdG9rZW59JwogICAgcmVzcG9uc2UgPSByZXF1ZXN0cy5nZXQodXJsKQoKICAgIGlmIHJlc3BvbnNlLnN0YXR1c19jb2RlID09IDIwMDoKICAgICAgICBkYXRhID0gcmVzcG9uc2UuanNvbigpCiAgICAgICAgaWYgJ25hbWUnIGluIGRhdGE6CiAgICAgICAgICAgIHByaW50KEZvcmUuR1JFRU4gKyBmIlxuTG9nZ2VkIGluIGFzOiB7ZGF0YVsnbmFtZSddfSAoVXNlciBJRDoge2RhdGFbJ2lkJ119KSIpCiAgICAgICAgZWxzZToKICAgICAgICAgICAgcHJpbnQoRm9yZS5ZRUxMT1cgKyAiVW5hYmxlIHRvIHJldHJpZXZlIHVzZXIgZGV0YWlscyBmcm9tIHRoZSBhY2Nlc3MgdG9rZW4uIikKICAgIGVsc2U6CiAgICAgICAgcHJpbnQoRm9yZS5SRUQgKyAiRXJyb3I6IEludmFsaWQgb3IgZXhwaXJlZCB0b2tlbi4iKQogICAgICAgIHJldHVybiBGYWxzZSAgIyBJbmRpY2F0ZSB0aGF0IHRoZSB0b2tlbiBpcyBpbnZhbGlkCiAgICByZXR1cm4gVHJ1ZSAgIyBUb2tlbiBpcyB2YWxpZAoKIyBGdW5jdGlvbiB0byBmZXRjaCBhbmQgbGlzdCBhbGwgUGFnZXMgYW5kIHRoZWlyIEFjY2VzcyBUb2tlbnMKZGVmIGdldF9wYWdlX3Rva2VucyhhY2Nlc3NfdG9rZW4pOgogICAgdXJsID0gZidodHRwczovL2dyYXBoLmZhY2Vib29rLmNvbS92MTcuMC9tZS9hY2NvdW50cz9maWVsZHM9bmFtZSxhY2Nlc3NfdG9rZW4mYWNjZXNzX3Rva2VuPXthY2Nlc3NfdG9rZW59JwogICAgcmVzcG9uc2UgPSByZXF1ZXN0cy5nZXQodXJsKQoKICAgIGlmIHJlc3BvbnNlLnN0YXR1c19jb2RlID09IDIwMDoKICAgICAgICBkYXRhID0gcmVzcG9uc2UuanNvbigpCiAgICAgICAgaWYgJ2RhdGEnIGluIGRhdGE6CiAgICAgICAgICAgIHByaW50KEZvcmUuR1JFRU4gKyAiXG5MaXN0IG9mIFBhZ2VzIGFuZCBUaGVpciBBY2Nlc3MgVG9rZW5zOiIpCiAgICAgICAgICAgIGZvciBwYWdlIGluIGRhdGFbJ2RhdGEnXToKICAgICAgICAgICAgICAgIHBhZ2VfbmFtZSA9IHBhZ2UuZ2V0KCduYW1lJywgJ1Vua25vd24gUGFnZScpCiAgICAgICAgICAgICAgICBwYWdlX3Rva2VuID0gcGFnZS5nZXQoJ2FjY2Vzc190b2tlbicsICdObyBUb2tlbiBBdmFpbGFibGUnKQogICAgICAgICAgICAgICAgcHJpbnQoRm9yZS5HUkVFTiArIGYiUGFnZSBOYW1lOiB7cGFnZV9uYW1lfSB8ICIgKyBGb3JlLkxJR0hUTUFHRU5UQV9FWCArIGYiUGFnZSBBY2Nlc3MgVG9rZW46IHtwYWdlX3Rva2VufSIpICAjIENoYW5nZWQgdG8gcGluawogICAgICAgIGVsc2U6CiAgICAgICAgICAgIHByaW50KEZvcmUuWUVMTE9XICsgIk5vIFBhZ2VzIGZvdW5kIG9yIHVuYWJsZSB0byBhY2Nlc3MgcGFnZSBkYXRhLiIpCiAgICBlbHNlOgogICAgICAgIHByaW50KEZvcmUuUkVEICsgZiJFcnJvcjoge3Jlc3BvbnNlLnN0YXR1c19jb2RlfSIpCiAgICAgICAgcHJpbnQocmVzcG9uc2UudGV4dCkKCiMgTWFpbiBmdW5jdGlvbiB0byBleGVjdXRlIHRoZSBzY3JpcHQKZGVmIG1haW4oKToKICAgICMgRGlzcGxheSBsb2dvIGFuZCBtZXNzYWdlCiAgICBzaG93X2xvZ28oKQoKICAgIHdoaWxlIFRydWU6CiAgICAgICAgIyBJbnB1dCBGYWNlYm9vayBBY2Nlc3MgVG9rZW4KICAgICAgICBhY2Nlc3NfdG9rZW4gPSBpbnB1dChGb3JlLkJMVUUgKyAiRW50ZXIgeW91ciBGYWNlYm9vayBBY2Nlc3MgVG9rZW46ICIpCgogICAgICAgIGlmIG5vdCBhY2Nlc3NfdG9rZW46CiAgICAgICAgICAgIHByaW50KEZvcmUuUkVEICsgIkVycm9yOiBUaGUgYWNjZXNzIHRva2VuIGlzIGVtcHR5IG9yIGludmFsaWQuIikKICAgICAgICAgICAgY29udGludWUKCiAgICAgICAgIyBEaXNwbGF5IGEgcHJldmlldyBvZiB0aGUgdG9rZW4gKGZpcnN0IDEwIGNoYXJhY3RlcnMpCiAgICAgICAgdG9rZW5fbmFtZSA9IGFjY2Vzc190b2tlbls6MTBdCiAgICAgICAgcHJpbnQoRm9yZS5CTFVFICsgZiJcbkZhY2Vib29rIEFjY2VzcyBUb2tlbiAoUHJldmlldyk6IHt0b2tlbl9uYW1lfS4uLiIpCgogICAgICAgICMgRmV0Y2ggYW5kIGRpc3BsYXkgdG9rZW4gZGV0YWlscyAodXNlciBpbmZvKQogICAgICAgIGlmIG5vdCBnZXRfdG9rZW5fZGV0YWlscyhhY2Nlc3NfdG9rZW4pOgogICAgICAgICAgICBjb250aW51ZSAgIyBJZiB0b2tlbiBpcyBpbnZhbGlkLCBhc2sgZm9yIGEgbmV3IG9uZQoKICAgICAgICAjIEZldGNoIGFuZCBsaXN0IG9ubHkgYWN0aXZlIE1lc3NlbmdlciBHcm91cHMKICAgICAgICBnZXRfYWN0aXZlX21lc3Nlbmdlcl9ncm91cHMoYWNjZXNzX3Rva2VuKQoKICAgICAgICAjIEZldGNoIGFuZCBkaXNwbGF5IGFsbCBQYWdlcyB3aXRoIHRoZWlyIEFjY2VzcyBUb2tlbnMKICAgICAgICBnZXRfcGFnZV90b2tlbnMoYWNjZXNzX3Rva2VuKQogICAgICAgIGJyZWFrICAjIEV4aXQgdGhlIGxvb3AgYWZ0ZXIgc3VjY2Vzc2Z1bCBleGVjdXRpb24KCmlmIF9fbmFtZV9fID09ICJfX21haW5fXyI6CiAgICBtYWluKCk='))